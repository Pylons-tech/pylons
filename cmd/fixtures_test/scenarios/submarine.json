[
    {
        "ID": "MOCK_ACCOUNT_SUBMARINE_ACCOUNT2",
        "runAfter": {
          "precondition": [],
          "blockWait": 0
        },
        "action": "mock_account",
        "paramsRef": "submarine_account2",
        "output": {
          "txResult": {
            "status": "Success"
          },
          "property": [
            {
              "owner": "submarine_account2",
              "coins": [
                {
                  "denom": "pylon",
                  "amount": 55000
                }
              ]
            }
          ]
        }
    },
    {
        "ID": "CREATE_SUBMARINE_COOKBOOK",
        "runAfter": {
            "precondition": [],
            "blockWait": 0
        },
        "action": "mock_cookbook",
        "paramsRef": "./cookbooks/submarine.json",
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "submarine_account1",
                    "cookbooks": ["submarine"]
                }
            ]
        }
    },
    {
        "ID": "CREATE_SUBMARINE_ITEMS",
        "runAfter": {
            "precondition": ["CREATE_SUBMARINE_COOKBOOK", "MOCK_ACCOUNT_SUBMARINE_ACCOUNT2"],
            "blockWait": 0
        },
        "action": "multi_msg_tx",
        "msgRefs": [
            {
                "action": "fiat_item",
                "paramsRef": "./items/submarine/knife.json"
            },
            {
                "action": "fiat_item",
                "paramsRef": "./items/submarine/knife2.json"
            },
            {
                "action": "fiat_item",
                "paramsRef": "./items/submarine/shield.json"
            }
        ],
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "submarine_account2",
                    "items": [
                        {
                            "stringValues": { "Name": "Knife" }
                        },
                        {
                            "stringValues": { "Name": "Knife2" }
                        },
                        {
                            "stringValues": { "Name": "Shield" }
                        }
                    ]
                }
            ]
        }
    },
    {
        "ID": "CREATE_SUBMARINE_RECIPES",
        "runAfter": {
            "precondition": ["CREATE_SUBMARINE_COOKBOOK"],
            "blockWait": 0
        },
        "action": "multi_msg_tx",
        "msgRefs": [
            {
                "action": "create_recipe",
                "paramsRef": "./recipes/submarine/straight_attack_knife.json"
            },
            {
                "action": "create_recipe",
                "paramsRef": "./recipes/submarine/delayed_attack_knife.json"
            },
            {
                "action": "create_recipe",
                "paramsRef": "./recipes/submarine/subm_coin.json"
            },
            {
                "action": "create_recipe",
                "paramsRef": "./recipes/submarine/knife_shield.json"
            },
            {
                "action": "create_recipe",
                "paramsRef": "./recipes/submarine/knife_buyer_from_subm_coin.json"
            }
        ],
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "submarine_account1",
                    "recipes": [
                        "Straight Attack Knife Generation Recipe",
                        "Delayed Attack Knife Generation Recipe",
                        "Submarine Coin Generation Recipe",
                        "Knife Shield Generation Recipe",
                        "Knife buyer recipe from submcoin"
                    ]
                }
            ]
        }
    },
    {
        "ID": "EXECUTE_STRAIGHT_ATTACK_KNIFE_RECIPE",
        "runAfter": {
            "precondition": ["CREATE_SUBMARINE_RECIPES"],
            "blockWait": 0
        },
        "action": "execute_recipe",
        "paramsRef": "./recipes/submarine/executions/straight_attack_knife.json",
        "output": {
            "txResult": {
                "status": "Success",
                "message": "successfully executed the recipe"
            },
            "property": [
                {
                    "owner": "submarine_account2",
                    "items": [
                        {
                            "stringValues": { "Name": "Straight Attack Knife" }
                        }
                    ]
                }
            ]
        }
    },
    {
        "ID": "EXECUTE_DELAYED_ATTACK_KNIFE_RECIPE",
        "runAfter": {
            "precondition": ["CREATE_SUBMARINE_RECIPES"],
            "blockWait": 0
        },
        "action": "execute_recipe",
        "paramsRef": "./recipes/submarine/executions/delayed_attack_knife.json",
        "output": {
            "txResult": {
                "status": "Success",
                "message": "scheduled the recipe"
            },
            "property": []
        }
    },
    {
        "ID": "EXECUTE_DELAYED_ATTACK_KNIFE_RECIPE_WRONG_INPUTS_COUNT",
        "runAfter": {
            "precondition": ["CREATE_SUBMARINE_RECIPES", "CREATE_SUBMARINE_ITEMS"],
            "blockWait": 0
        },
        "action": "execute_recipe",
        "paramsRef": "./recipes/submarine/executions/wrong_inputs_count.json",
        "output": {
            "txResult": {
                "errLog": "the item IDs count doesn't match the recipe input"
            },
            "property": []
        }
    },
    {
        "ID": "EXECUTE_KNIFE_SHIELD_RECIPE",
        "runAfter": {
            "precondition": ["CREATE_SUBMARINE_ITEMS", "CREATE_SUBMARINE_RECIPES"],
            "blockWait": 0
        },
        "action": "execute_recipe",
        "paramsRef": "./recipes/submarine/executions/knife_shield.json",
        "output": {
            "txResult": {
                "status": "Success",
                "message": "successfully executed the recipe"
            },
            "property": [
                {
                    "owner": "submarine_account2",
                    "items": [
                        {
                            "stringValues": { "Name": "Knife Shield" }
                        }
                    ]
                }
            ]
        }
    },
    {
        "ID": "CHECK_EXECUTION_KNIFE_SHIELD_RECIPE",
        "runAfter": {
            "precondition": ["EXECUTE_DELAYED_ATTACK_KNIFE_RECIPE"],
            "blockWait": 2
        },
        "action": "check_execution",
        "paramsRef": "./recipes/submarine/check_executions/check_execution.json",
        "output": {
            "txResult": {
                "status": "Success",
                "message": "successfully completed the execution"
            },
            "property": [
                {
                    "owner": "submarine_account2",
                    "items": [
                        {
                            "stringValues": { "Name": "Delayed Attack Knife" }
                        }
                    ]
                }
            ]
        }
    },
    {
        "ID": "EXECUTE_SUBMARINE_COIN_RECIPE",
        "runAfter": {
            "precondition": ["CREATE_SUBMARINE_RECIPES", "MOCK_ACCOUNT_SUBMARINE_ACCOUNT2"],
            "blockWait": 0
        },
        "action": "execute_recipe",
        "paramsRef": "./recipes/submarine/executions/subm_coin.json",
        "output": {
            "txResult": {
                "status": "Success",
                "message": "successfully executed the recipe"
            },
            "property": [
                {
                    "owner": "submarine_account2",
                    "coins": [
                        {
                            "denom": "submcoin",
                            "amount": 100
                        }
                    ]
                }
            ]
        }
    },
    {
        "ID": "EXECUTE_KNIFE_BUYER_FROM_SUBMCOIN_RECIPE",
        "runAfter": {
            "precondition": ["EXECUTE_SUBMARINE_COIN_RECIPE"],
            "blockWait": 0
        },
        "action": "execute_recipe",
        "paramsRef": "./recipes/submarine/executions/knife_buyer_from_subm_coin.json",
        "output": {
            "txResult": {
                "status": "Success",
                "message": "successfully executed the recipe"
            },
            "property": [
                {
                    "owner": "submarine_account2",
                    "coins": [
                        {
                            "denom": "submcoin",
                            "amount": 99
                        }
                    ],
                    "items": [
                        {
                            "stringValues": { "Name": "Knife" },
                            "longValues": { "level": 2 }
                        }
                    ]
                }
            ]
        }
    }
]