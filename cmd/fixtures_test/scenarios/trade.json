[
    {
        "ID": "CREATE_TRADE_COOKBOOK",
        "runAfter": {
            "precondition": [],
            "blockWait": 0
        },
        "action": "create_cookbook",
        "paramsRef": "./cookbooks/trade.json",
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account2",
                    "cookbooks": ["tradecookbook"]
                }
            ]
        }
    },
    {
        "ID": "CREATE_ACCOUNT2_TRADING_ITEMS",
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK"],
            "blockWait": 0
        },
        "action": "multi_msg_tx",
        "msgRefs": [
            {
                "action": "fiat_item",
                "paramsRef": "./items/trading/trading_knife_v1.json"
            },
            {
                "action": "fiat_item",
                "paramsRef": "./items/trading/trading_knife_v2.json"
            }
        ],
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account2",
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v1" }
                        },
                        {
                            "stringValues": { "Name": "Trading Knife v2" }
                        }
                    ]
                }
            ]
        }
    },
    {
        "ID": "CREATE_ACCOUNT1_TRADING_ITEMS",
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK"],
            "blockWait": 0
        },
        "action": "multi_msg_tx",
        "msgRefs": [
            {
                "action": "fiat_item",
                "paramsRef": "./items/trading/trading_knife_v3.json"
            },
            {
                "action": "fiat_item",
                "paramsRef": "./items/trading/trading_knife_v4.json"
            },
            {
                "action": "fiat_item",
                "paramsRef": "./items/trading/trading_knife_v5.json"
            }
        ],
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account1",
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v3" }
                        },
                        {
                            "stringValues": { "Name": "Trading Knife v4" }
                        },
                        {
                            "stringValues": { "Name": "Trading Knife v5" }
                        }
                    ]
                }
            ]
        }
    },

    {
        "ID": "CREATE_COIN_COIN_TRADE",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK"],
            "blockWait": 0
        },
        "action": "create_trade",
        "paramsRef": "./trades/trade_coin_coin.json",
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account2",
                    "trades": ["coin to coin trading"]
                }
            ]
        }
    },
    {
        "ID": "CREATE_PYLON_NODE0_TRADE_DISABLE_TEST",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK"],
            "blockWait": 0
        },
        "action": "create_trade",
        "paramsRef": "./trades/trade_pylon_node0_disable_test.json",
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account2",
                    "trades": ["pylon to node0 trading for disable test"]
                }
            ]
        }
    },
    {
        "ID": "DISABLE_PYLON_NODE0_TRADE",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK", "CREATE_PYLON_NODE0_TRADE_DISABLE_TEST"],
            "blockWait": 0
        },
        "action": "disable_trade",
        "paramsRef": "./disable_trades/trade_pylon_node0.json",
        "output": {
            "txResult": {
                "status": "Success"
            }
        }
    },
    {
        "ID": "FULFILL_COIN_COIN_TRADE",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK", "CREATE_COIN_COIN_TRADE"],
            "blockWait": 0
        },
        "action": "fulfill_trade",
        "paramsRef": "./fulfill_trades/trade_coin_coin.json",
        "output": {
            "txResult": {
                "status": "Success"
            }
        }
    },
    {
        "ID": "CREATE_TRADES",
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK", "CREATE_ACCOUNT1_TRADING_ITEMS", "CREATE_ACCOUNT2_TRADING_ITEMS"],
            "blockWait": 0
        },
        "action": "multi_msg_tx",
        "msgRefs": [
            {
                "action": "create_trade",
                "paramsRef": "./trades/trade_coin_item.json"
            },
            {
                "action": "create_trade",
                "paramsRef": "./trades/trade_item_coin.json"
            },
            {
                "action": "create_trade",
                "paramsRef": "./trades/trade_item_item.json"
            },
            {
                "action": "create_trade",
                "paramsRef": "./trades/trade_item_coin3.json"
            },
            {
                "action": "create_trade",
                "paramsRef": "./trades/trade_unordered_coin_input_list.json"
            }
        ],
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account2",
                    "trades": [
                        "coin to item trading",
                        "item to coin trading",
                        "item to item trading",
                        "item to coin trading3",
                        "unordered coin input list trading"
                    ]
                }
            ]
        }
    },
    {
        "ID": "FULFILL_COIN_ITEM_TRADE",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK", "CREATE_TRADES"],
            "blockWait": 0
        },
        "action": "fulfill_trade",
        "paramsRef": "./fulfill_trades/trade_coin_item.json",
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account1",
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v1" }
                        }
                    ]
                },
                {
                    "owner": "account2",
                    "shouldNotExist": true,
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v1" }
                        }
                    ]
                }
            ]
        }
    },
    {
        "ID": "FULFILL_ITEM_COIN_TRADE",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK", "CREATE_TRADES"],
            "blockWait": 0
        },
        "action": "fulfill_trade",
        "paramsRef": "./fulfill_trades/trade_item_coin.json",
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account2",
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v3" }
                        }
                    ]
                },
                {
                    "owner": "account1",
                    "shouldNotExist": true,
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v3" }
                        }
                    ]
                }
            ]
        }
    },
    {
        "ID": "FULFILL_ITEM_ITEM_TRADE",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK", "CREATE_TRADES"],
            "blockWait": 0
        },
        "action": "fulfill_trade",
        "paramsRef": "./fulfill_trades/trade_item_item.json",
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account2",
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v4" }
                        }
                    ]
                },
                {
                    "owner": "account1",
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v2" }
                        }
                    ]
                },
                {
                    "owner": "account2",
                    "shouldNotExist": true,
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v2" }
                        }
                    ] 
                },
                {
                    "owner": "account1",
                    "shouldNotExist": true,
                    "items": [
                        {
                            "stringValues": { "Name": "Trading Knife v4" }
                        }
                    ] 
                }
            ]
        }
    },
    {
        "ID": "CREATE_SMALLER_THAN_DUST_PYLON_TRADE",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK"],
            "blockWait": 0
        },
        "action": "create_trade",
        "paramsRef": "./trades/trade_smaller_than_dust_pylon.json",
        "output": {
            "txResult": {
                "broadcastError": "there should be more than 10 amount of pylon per trade"
            }
        }
    },
    {
        "ID": "FULFILL_ITEM_COIN_TRADE3",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK", "CREATE_TRADES"],
            "blockWait": 0
        },
        "action": "fulfill_trade",
        "paramsRef": "./fulfill_trades/trade_item_coin3.json",
        "output": {
            "txResult": {
                "errLog": "the item IDs count doesn't match the trade input"
            }
        }
    },
    {
        "ID": "FULFILL_UNORDERED_COIN_INPUT_LIST_TRADE",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK", "CREATE_TRADES"],
            "blockWait": 0
        },
        "action": "fulfill_trade",
        "paramsRef": "./fulfill_trades/trade_unordered_coin_input_list.json",
        "output": {
            "txResult": {
                "status": "Success"
            }
        }
    },
    {
        "ID": "CREATE_ITEM_COIN_TRADE2",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK"],
            "blockWait": 0
        },
        "action": "create_trade",
        "paramsRef": "./trades/trade_item_coin2.json",
        "output": {
            "txResult": {
                "status": "Success"
            },
            "property": [
                {
                    "owner": "account2",
                    "trades": ["item to coin trading2"]
                }
            ]
        }
    },
    {
        "ID": "FULFILL_ITEM_COIN_TRADE2",        
        "runAfter": {
            "precondition": ["CREATE_TRADE_COOKBOOK", "CREATE_ITEM_COIN_TRADE2", "CREATE_ACCOUNT1_TRADING_ITEMS"],
            "blockWait": 0
        },
        "action": "fulfill_trade",
        "paramsRef": "./fulfill_trades/trade_item_coin2.json",
        "output": {
            "txResult": {
                "errLog": "[0]th item does not match: Name key value does not match"
            }
        }
    }
]