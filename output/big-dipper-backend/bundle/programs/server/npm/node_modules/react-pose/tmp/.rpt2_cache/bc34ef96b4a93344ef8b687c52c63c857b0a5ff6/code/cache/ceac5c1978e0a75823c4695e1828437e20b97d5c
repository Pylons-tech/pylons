{"code":"import * as tslib_1 from \"tslib\";\r\nimport * as React from 'react';\r\nimport handleChildrenTransitions from './children';\r\nvar Transition = (function (_super) {\r\n    tslib_1.__extends(Transition, _super);\r\n    function Transition() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            displayedChildren: [],\r\n            finishedLeaving: {},\r\n            hasInitialized: false,\r\n            indexedChildren: {},\r\n            scheduleChildRemoval: function (key) { return _this.removeChild(key); }\r\n        };\r\n        return _this;\r\n    }\r\n    Transition.prototype.removeChild = function (key) {\r\n        var _a = this.state, displayedChildren = _a.displayedChildren, finishedLeaving = _a.finishedLeaving;\r\n        var _b = this.props, enterAfterExit = _b.enterAfterExit, onRest = _b.onRest;\r\n        if (!finishedLeaving.hasOwnProperty(key))\r\n            return;\r\n        finishedLeaving[key] = true;\r\n        if (!Object.keys(finishedLeaving).every(function (leavingKey) { return finishedLeaving[leavingKey]; })) {\r\n            return;\r\n        }\r\n        var targetChildren = displayedChildren.filter(function (child) { return !finishedLeaving.hasOwnProperty(child.key); });\r\n        var newState = enterAfterExit\r\n            ? tslib_1.__assign({ finishedLeaving: {} }, handleChildrenTransitions(tslib_1.__assign({}, this.props, { enterAfterExit: false }), tslib_1.__assign({}, this.state, { displayedChildren: targetChildren }))) : {\r\n            finishedLeaving: {},\r\n            displayedChildren: targetChildren\r\n        };\r\n        this.setState(newState, onRest);\r\n    };\r\n    Transition.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return this.state !== nextState;\r\n    };\r\n    Transition.prototype.render = function () {\r\n        return this.state.displayedChildren;\r\n    };\r\n    Transition.defaultProps = {\r\n        flipMove: false,\r\n        enterAfterExit: false,\r\n        preEnterPose: 'exit',\r\n        enterPose: 'enter',\r\n        exitPose: 'exit'\r\n    };\r\n    Transition.getDerivedStateFromProps = handleChildrenTransitions;\r\n    return Transition;\r\n}(React.Component));\r\nexport default Transition;\r\n//# sourceMappingURL=index.js.map","map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/components/Transition/index.tsx\"],\"names\":[],\"mappings\":\";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,yBAAyB,MAAM,YAAY,CAAC;AAEnD;IAAyB,sCAA6B;IAAtD;QAAA,qEA6DC;QAlDC,WAAK,GAAU;YACb,iBAAiB,EAAE,EAAE;YACrB,eAAe,EAAE,EAAE;YACnB,cAAc,EAAE,KAAK;YACrB,eAAe,EAAE,EAAE;YACnB,oBAAoB,EAAE,UAAC,GAAW,IAAK,OAAA,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAArB,CAAqB;SAC7D,CAAC;;IA4CJ,CAAC;IA1CC,gCAAW,GAAX,UAAY,GAAW;QACf,IAAA,eAAmD,EAAjD,wCAAiB,EAAE,oCAAe,CAAgB;QACpD,IAAA,eAAuC,EAArC,kCAAc,EAAE,kBAAM,CAAgB;QAC9C,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,GAAG,CAAC;YAAE,OAAO;QAEjD,eAAe,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;QAE5B,IACE,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,KAAK,CACjC,UAAA,UAAU,IAAI,OAAA,eAAe,CAAC,UAAU,CAAC,EAA3B,CAA2B,CAC1C,EACD;YACA,OAAO;SACR;QAED,IAAM,cAAc,GAAG,iBAAiB,CAAC,MAAM,CAC7C,UAAA,KAAK,IAAI,OAAA,CAAC,eAAe,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,CAAC,EAA1C,CAA0C,CACpD,CAAC;QAEF,IAAM,QAAQ,GAAG,cAAc;YAC7B,CAAC,oBACG,eAAe,EAAE,EAAE,IAChB,yBAAyB,sBACrB,IAAI,CAAC,KAAK,IAAE,cAAc,EAAE,KAAK,0BACjC,IAAI,CAAC,KAAK,IAAE,iBAAiB,EAAE,cAAc,IACnD,EAEL,CAAC,CAAC;YACE,eAAe,EAAE,EAAE;YACnB,iBAAiB,EAAE,cAAc;SAClC,CAAC;QAEN,IAAI,CAAC,QAAQ,CAAC,QAAiB,EAAE,MAAM,CAAC,CAAC;IAC3C,CAAC;IAED,0CAAqB,GAArB,UAAsB,SAAgB,EAAE,SAAgB;QACtD,OAAO,IAAI,CAAC,KAAK,KAAK,SAAS,CAAC;IAClC,CAAC;IAED,2BAAM,GAAN;QACE,OAAO,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;IACtC,CAAC;IA3DM,uBAAY,GAAG;QACpB,QAAQ,EAAE,KAAK;QACf,cAAc,EAAE,KAAK;QACrB,YAAY,EAAE,MAAM;QACpB,SAAS,EAAE,OAAO;QAClB,QAAQ,EAAE,MAAM;KACjB,CAAC;IAEK,mCAAwB,GAAG,yBAAyB,CAAC;IAoD9D,iBAAC;CAAA,AA7DD,CAAyB,KAAK,CAAC,SAAS,GA6DvC;AAED,eAAe,UAAU,CAAC\"}","dts":{"name":"/Users/mattperry/Sites/popmotion/packages/react-pose/components/Transition/index.d.ts","text":"import * as React from 'react';\r\nimport { Props, State } from './types';\r\ndeclare class Transition extends React.Component<Props, State> {\r\n    static defaultProps: {\r\n        flipMove: boolean;\r\n        enterAfterExit: boolean;\r\n        preEnterPose: string;\r\n        enterPose: string;\r\n        exitPose: string;\r\n    };\r\n    static getDerivedStateFromProps: (props: Props, state: State) => Partial<State>;\r\n    state: State;\r\n    removeChild(key: string): void;\r\n    shouldComponentUpdate(nextProps: Props, nextState: State): boolean;\r\n    render(): React.ReactElement<any>[];\r\n}\r\nexport default Transition;\r\n"}}
